<div class="container">
  <hr>
  <h3 class="text-center">List of Users </h3>
  <hr/>
  <p>&nbsp;</p>
  <!-- <div style="height: 45em; overflow: auto"> -->
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th>User Name</th>
        <th>Full Name</th>
        <th>Admin?</th>
        <th>Activated?</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor='let u of users'>
        <td>{{ u.userName}}</td>
        <td>{{ u.fullName}}</td>
        <td>{{ u.isAdmin }}</td>
        <td>{{ u.statusActivated}}</td>
        <!-- <td></td> -->
        <td *ngFor="let sub of [u.subscriptionInfo]">{{sub.length}}</td>
        <td><button (click)="deleteUser(u._id)" type="button" class="btn btn-danger">Delete</button></td>
      </tr>
    </tbody>
  </table>
  <!-- </div> -->
<!-- CREATE SUBSCRIPTION----------------------------------------------------------------------------------------------------- -->
  <div class="container">
    <div class="row">
      <div class="col-md-3"></div>
      <div class="col-md-6 col-sm-12" id="Subscription-form">
        <hr>
        <h4 class="text-center"><b>Create Subscription</b></h4>
        <hr />

         <form (ngSubmit)="onSubmit()" #form="ngForm">
           <div class="form-group">
             <label class="control-label" for="subName">Subscription name:</label>
             <input class="form-control" type="email" required email id="subName" name="subName"
               [(ngModel)]="subscription.subName" minlength="4" maxlength="50" #subName="ngModel"
               placeholder="Enter Subscription Name" required autofocus />
           </div>

           <div class="form-group">
             <label class="control-label" for="subPeriod">Subscription Period:</label>
             <input type="number" class="form-control" id="subPeriod" name="subPeriod"
               [(ngModel)]="subscription.subPeriod" required min="1" max="365" #subPeriod="ngModel" autofocus
               placeholder="Enter Subscription Period" />
           </div>

           <div class="form-group">
             <label class="control-label" for="subBoxType">Subscription Box Type:</label>
             <input class="form-control" type="email" required email id="subBoxType" name="subBoxType"
               [(ngModel)]="subscription.subBoxType" minlength="4" maxlength="50" #subBoxType="ngModel"
               placeholder="Enter Subscription Box type" required autofocus />
           </div>

           <div class="form-group">
             <label class="control-label" for="subPrice">Subscription Price:</label>
             <input type="number" class="form-control" id="subPrice" name="subPrice" [(ngModel)]="subscription.subPrice"
               required min="1" step="any" #subPrice="ngModel" autofocus placeholder="Enter Subscription Price" />
           </div>

           <div class="form-check form-check-inline">
                 <label class="form-check-input" for="isActiveTrue">Yes:</label>
                 <input type="radio" class="form-check-input" id="isActiveTrue" name="isActiveTrue" value="true"
                   [(ngModel)]="subscription.isActive" required #isActive="ngModel" autofocus />
                   <label class="form-check-input" for="isActiveFalse">No:</label>
                 <input type="radio" class="form-check-input" id="isActiveFalse" name="isActiveFalse" value="false"
                   [(ngModel)]="subscription.isActive" required #isActive="ngModel" autofocus />
          </div>
          
          <div class="text-center">
            <a class="btn btn-default" routerLink="/home">Back to home</a>&nbsp;
            <a><button class="btn btn-primary" type="submit">Create</button></a>&nbsp;&nbsp;
            <!-- Causes bug which prevents from table rendering -->
            <!-- <span *ngIf="subError.length > 0" class="text-danger">{{subError}}</span> -->
          </div>
         </form>
        <div class="col-md-3"></div>
      </div>
    </div>
  </div>

<!-- Delete Subscription -->
<hr/>
<h3 class="text-center">Delete Subscription </h3>
<hr />

<p>&nbsp;</p>
 <table class="table table-striped table-bordered">
   <thead class="thead-dark">
     <tr>
       <th>Subscription Name</th>
       <th>Period</th>
       <th>Box Type</th>
       <th>Price</th>
       <th>Activated?</th>
       <th></th>
       <th></th>
     </tr>
   </thead>
   <tbody>
     <tr *ngFor='let s of subList'>
       <td>{{ s.subName}}</td>
       <td>{{ s.subPeriod}}</td>
       <td>{{ s.subBoxType }}</td>
       <td>{{ s.subPrice}}</td>
       <td>{{ s.isActive}}</td>
       <td><button (click)="editSubscription(s._id)" type="button" class="btn btn-warning">Edit</button></td>
       <td><button (click)="deleteSubscription(s._id)" type="button" class="btn btn-danger">Delete</button></td>
     </tr>
   </tbody>
 </table>

</div>